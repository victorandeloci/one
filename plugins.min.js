!function(c,a){"function"==typeof define&&define.amd?define(a):c.VMasker=a()}(this,function(){var i=[8,9,16,17,18,36,37,38,39,40,91,92,93],j=function(d){for(var a=0,e=i.length;e>a;a++)if(d==i[a])return!1;return!0},u=function(b){return b=b||{},b={precision:b.hasOwnProperty("precision")?b.precision:2,separator:b.separator||",",delimiter:b.delimiter||".",unit:b.unit&&b.unit.replace(/[\s]/g,"")+" "||"",suffixUnit:b.suffixUnit&&" "+b.suffixUnit.replace(/[\s]/g,"")||"",zeroCents:b.zeroCents,lastOutput:b.lastOutput},b.moneyPrecision=b.zeroCents?0:b.precision,b},c=function(b){this.elements=b};c.prototype.unbindElementToMask=function(){for(var c=0,d=this.elements.length;d>c;c++)this.elements[c].lastOutput="",this.elements[c].onkeyup=!1,this.elements[c].onkeydown=!1,this.elements[c].value.length&&(this.elements[c].value=this.elements[c].value.replace(/\D/g,""))},c.prototype.bindElementToMask=function(g){for(var a=this,b=function(b){b=b||window.event;var f=b.target||b.srcElement;j(b.keyCode)&&setTimeout(function(){a.opts.lastOutput=f.lastOutput,f.value=e[g](f.value,a.opts),f.lastOutput=f.value,f.setSelectionRange&&a.opts.suffixUnit&&f.setSelectionRange(f.value.length,f.value.length-a.opts.suffixUnit.length)},0)},c=0,h=this.elements.length;h>c;c++)this.elements[c].lastOutput="",this.elements[c].onkeyup=b,this.elements[c].value.length&&(this.elements[c].value=e[g](this.elements[c].value,this.opts))},c.prototype.maskMoney=function(b){this.opts=u(b),this.bindElementToMask("toMoney")},c.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},c.prototype.maskPattern=function(b){this.opts={pattern:b},this.bindElementToMask("toPattern")},c.prototype.unMask=function(){this.unbindElementToMask()};var e=function(d){if(!d)throw new Error("VanillaMasker: There is no element to bind.");var a="length"in d?d.length?d:[]:[d];return new c(a)};return e.toMoney=function(f,v){if(v=u(v),v.zeroCents){v.lastOutput=v.lastOutput||"";var w="("+v.separator+"[0]{0,"+v.precision+"})",c=new RegExp(w,"g"),d=f.toString().replace(/[\D]/g,"").length||0,e=v.lastOutput.toString().replace(/[\D]/g,"").length||0;f=f.toString().replace(c,""),e>d&&(f=f.slice(0,f.length-1))}var g=f.toString().replace(/[\D]/g,""),h=new RegExp("^(0|\\"+v.delimiter+")"),i=new RegExp("(\\"+v.separator+")$"),j=g.substr(0,g.length-v.moneyPrecision),x=j.substr(0,j.length%3),y=Array(v.precision+1).join("0");j=j.substr(j.length%3,j.length);for(var z=0,A=j.length;A>z;z++)0==z%3&&(x+=v.delimiter),x+=j[z];if(x=x.replace(h,""),x=x.length?x:"0",!v.zeroCents){var o=g.length-v.precision,p=g.substr(o,v.precision),q=p.length,r=v.precision>q?v.precision:q;y=(y+p).slice(-r)}var s=v.unit+x+v.separator+y+v.suffixUnit;return s.replace(i,"")},e.toPattern=function(a,b){var c,d="object"==typeof b?b.pattern:b,e=d.replace(/\W/g,""),g=d.split(""),h=a.toString().replace(/\W/g,""),j=h.replace(/\W/g,""),k=0,n=g.length;for(c=0;n>c;c++){if(k>=h.length){if(e.length==j.length)return g.join("");break}g[c]==="9"&&h[k].match(/[0-9]/)||g[c]==="A"&&h[k].match(/[a-zA-Z]/)||g[c]==="S"&&h[k].match(/[0-9a-zA-Z]/)?g[c]=h[k++]:(g[c]==="9"||g[c]==="A"||g[c]==="S")&&(g=g.slice(0,c))}return g.join("").substr(0,c)},e.toNumber=function(b){return b.toString().replace(/(?!^-)[^0-9]/g,"")},e});